# EncryptionService
## Название и назначение сервиса
Микросервис EncryptionService предназначен для шифрования и дешифрования файл методом blowfish. Этот микросервис получает запросы на шифровку/дешифровку файлов от телеграм-бота и запрашивает ключ у микросервиса KeyManager.
Расшифровать файл имеет право только тот пользователь, которой зашифровал файл.

---

## Архитектура и зависимости
### Технологии и фреймворки
- Язык программирования: **PHP 8.4.1**
- Фреймворк: **Laravel 12.3.0**

### Взаимодействие с другими микросервисамисервисами
Сервис обменивается данными с:
- **[TelegramBot](https://github.com/svetlana7474/PIUS)**  — для полчения запросов на шифрование/дешифрование файлов.
- **[KeyGenerator](https://github.com/KRISPIH/PIUS)**  — для получения ключа на шифрование/дешифрование файлов.

---

## Способы запуска сервиса
### Локальный запуск без docker
php artisan serve
### Локальный запуск через docker 
docker-compose up

---

## API документация
[OpenApi документация](./PIUS/docs/CryptFile.yaml)
### Основные эндпоинты

#### Шифрование/дешифрование файлов
**Endpoint**: `GET /api/v1/blowfish`

**Описание**:  
Шифрует или дешифрует файл по указанному пути с использованием алгоритма Blowfish.

**Параметры запроса**:
| Параметр  | Тип     | Обязательный | Описание                          | Пример значения        |
|-----------|---------|--------------|-----------------------------------|------------------------|
| `user_id` | integer | Да           | ID пользователя                   | `123456789`            |
| `path`    | string  | Да           | Путь к файлу в системе            | `"/var/data/files/myfile.txt"` |
| `action`  | string  | Да           | Действие: `encrypt` или `decrypt` | `"encrypt"`            |

---

## Как тестировать
Команда для запуска тестов - **php artisan test**

---

## Контакты
- **Разработчик**: 
  - [Кужненков Кирилл](https://github.com/Jotaro220)
- [Telegram](https://t.me/Kirill356909)
